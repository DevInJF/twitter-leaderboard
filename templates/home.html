{% extends "base.html" %}

{% block content %}

<form class="form-horizontal" action="/home" method="post">{% csrf_token %}

<div class="row">
  <div class="col-md-6">
  
  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label"><h4>Scope</h4></label>
    <div class="col-sm-8">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label">List</label>
    <div class="col-sm-8">
	  	<select class="form-control" name="list">
	  	{% for l in lists %}
  			<option value="{{ l.id }}">{{ l.name }} ({{ l.description }})</option>
  		{% endfor %}
  	  	</select>
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label">Days</label>
    <div class="col-sm-8">
    	<input class="form-control" type="text" name="days" value="{{ settings.days }}">
    </div>
  </div>
  
  </div>
  <div class="col-md-6">
  
  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label"><h4>Points</h4></label>
    <div class="col-sm-8">
    </div>
  </div>


  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label">tweet_count</label>
    <div class="col-sm-8">
    	<input class="form-control" type="text" name="tweet_count" value="{{ settings.tweet_count }}">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label">retweet_count</label>
    <div class="col-sm-8">
    	<input class="form-control" type="text" name="retweet_count" value="{{ settings.retweet_count }}">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label">favorite_count</label>
    <div class="col-sm-8">
    	<input class="form-control" type="text" name="favorite_count" value="{{ settings.favorite_count }}">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label">reply_to</label>
    <div class="col-sm-8">
    	<input class="form-control" type="text" name="reply_to" value="{{ settings.reply_to }}">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label">retweets_to</label>
    <div class="col-sm-8">
    	<input class="form-control" type="text" name="retweets_to" value="{{ settings.retweets_to }}">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail3" class="col-sm-3 control-label"></label>
    <div class="col-sm-8">
    	<button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </div>
  
  </div>
</div>

</form>

<br>

{% if results %}
  
  <table class="table table-striped">
  <tr>
  		<th>user</th>
  		<th>tweets</th>
  		<th>retweet_count</th>
  		<th>favorite_count</th>
  		<th>reply_to</th>
  		<th>retweets_to</th>
  		<th>points</th>
  </tr>
  
  {% for k, v in results.items %}
  	<tr>
  		<td><a href="https://twitter.com/{{ k }}" target="_target">{{ k }}</a></td>
  		<td>{{ v.statuses|length }}</td>
  		<td>{{ v.retweet_count }}</td>
  		<td>{{ v.favorite_count }}</td>
  		<td>{{ v.reply_to }}</td>
  		<td>{{ v.retweets_to }}</td>
  		<td>{{ v.points }}</td>
    </tr>
  {% endfor %}
  
  </table>
  
{% endif %}

{% endblock %}